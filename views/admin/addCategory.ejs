<%- include('../adminLayout/homehead.ejs') %>
<div class="sidebar-logo">
  <button style="background-color: black;"><a href="/admin/viewCategory" style="color: white;font-size: 15px;margin-top: 25px;"> back </a></button>
</div>
<div class="container">
  <form class="mx-auto mt-5 p-4 bg-light" style="max-width: 800px;" action="/admin/addCategory" method="post" enctype="application/x-www-form-urlencoded" onsubmit="return validateForm()">
    <h1 class="text-center">ADD CATEGORY</h1>

    <div class="mb-3">
      <label for="categoryName" class="form-label">Category Name</label>
      <input type="text" name="categoryName" placeholder="Enter Category Name" required class="form-control" id="categoryName">
      <small id="categoryError" class="text-danger"></small>
    </div>

    <% if(typeof message !=='undefined' ){ %>
      <p style="color:rgb(128, 23, 0);font-weight: bold;">
        <%= message %>
      </p>
    <% } %>

    <div class="text-center">
      <button type="submit" class="btn btn-primary mt-2">Submit</button>
    </div>
  </form>
</div>

<script>
  function validateForm() {
    var categoryName = document.getElementById("categoryName").value;
    var categoryError = document.getElementById("categoryError");

    // Reset error messages
    categoryError.textContent = "";

    // Simple validation, you can add more checks as needed
    if (categoryName.trim() === "") {
      categoryError.textContent = "Category Name is required";
      return false;
    }

    return true; // Submit the form if validation passes
  }
</script>

<%- include('../adminLayout/homefooter.ejs') %>